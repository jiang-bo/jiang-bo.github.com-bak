
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>非纯种程序猿</title>
  <meta name="author" content="jiang-bo">

  
  <meta name="description" content="今天从网上用wget下了很多的电子书，不过文件名的编码都是GBK，系统默认为UTF-8，可以用convmv来转换文件名编码，例如将GBK编码的文件filename重命名为UTF-8：
convmv -f gbk -t utf-8 filename --notest&nbsp; &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://jiangbo.me/blog/page/7">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="非纯种程序猿" type="application/atom+xml">
  <!-- font-family: 'Knewave', cursive; -->
<link href='http://fonts.googleapis.com/css?family=Knewave' rel='stylesheet' type='text/css'>
<!-- font-family: 'Cantata One', serif; -->
<link href='http://fonts.googleapis.com/css?family=Cantata+One' rel='stylesheet' type='text/css'>

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-34477986-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1>
      <a href="/">非纯种程序猿</a>
      
  </h1>
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:jiangbo.me" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Home</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="/about-me">About Me</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2010/08/01/post/">Linux批量转换文件名编码</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-08-01T00:00:00+08:00" pubdate data-updated="true">Aug 1<span>st</span>, 2010</time>
        
         | <a href="/blog/2010/08/01/post/#disqus_thread">Comments</a>
        
        
          | 

<span class="categories">
  
    <a class='category' href='/blog/categories/linux/'>Linux</a>
  
</span>


        
      </p>
    
  </header>


  <div class="entry-content"><p>今天从网上用wget下了很多的电子书，不过文件名的编码都是GBK，系统默认为UTF-8，可以用convmv来转换文件名编码，例如将GBK编码的文件filename重命名为UTF-8：</p>
<p><pre class="brush: ruby:nogutter">convmv -f gbk -t utf-8 filename --notest</pre>&nbsp;</p>
<p>由于需要转换的文件比较多，写了个脚本来实现，主要就是一个文件目录的递归遍历：</p>
<p><pre class="brush: python:nogutter">list_dir(){
for file in $1/*
do
if [ -d $file ]; then
echo "$file is dirctory"
list_dir $file
elif [ -f $file ]; then
echo "convert $file..."
convmv -f gbk -t utf-8 $file --notest
fi
done
}
if [ $# -gt 0 ]; then
list_dir "$1"
else
list_dir "."
fi
</pre>&nbsp;</p></div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2010/06/28/post/">Linux批量重命名方法</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-06-28T00:00:00+08:00" pubdate data-updated="true">Jun 28<span>th</span>, 2010</time>
        
         | <a href="/blog/2010/06/28/post/#disqus_thread">Comments</a>
        
        
          | 

<span class="categories">
  
    <a class='category' href='/blog/categories/linux/'>Linux</a>
  
</span>


        
      </p>
    
  </header>


  <div class="entry-content"><p>经常会遇到需要批量重命名文件的情况，用鼠标太夸张了，简单总结两种比较简单的方法：</p>
<p>问题：</p>
<p>存在大量html文件，需要重命名为htm文件</p>
<p>1.rename</p>
<p>通常重命名的命令是mv，Larry Wall写的rename具有更强大的功能。能够用perl的正则语法结构进行文件重命名。<pre class="brush: css:nogutter">NAME
       rename - renames multiple files
SYNOPSIS
       rename [ -v ] [ -n ] [ -f ] perlexpr [ files ]
DESCRIPTION
       &quot;rename&quot; renames the filenames supplied according to the rule specified
       as the first argument.  The perlexpr argument is a Perl expression
       which is expected to modify the $_ string in Perl for at least some of
       the filenames specified.  If a given filename is not modified by the
       expression, it will not be renamed.  If no filenames are given on the
       command line, filenames will be read via standard input.
       For example, to rename all files matching &quot;*.bak&quot; to strip the
       extension, you might say
               rename 's//.bak$//' *.bak
       To translate uppercase names to lower, you'd use
               rename 'y/A-Z/a-z/' *&nbsp;</pre>
</p>
<p>上面是rename的man手册，针对上面重命名html文件的问题，解决如下：</p>
<p>rename &#8216;s/.html$/.htm/&#8217; *.html</p>
<p>简单来说就是重命名所有html文件（*.html），将文件名结尾处.html替换为.htm(&#8217;s/.html$/.htm/&#8217;)，其实更简单的表达式可以为&#8217;s/l$//&#8217;</p>
<p>2.printf</p>
<p>使用shell命令中的prinf打印出需要的文件名，然后在使用mv重命名</p>
<p>for i in *.html</p>
<p>do</p>
<p>newname=&quot;`printf &quot;%s&quot; ${i/html}`&quot;htm</p>
<p>mv $i $newname</p>
<p>done</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p></div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2010/06/21/post/">查询外网IP并发送邮件的脚本</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-06-21T00:00:00+08:00" pubdate data-updated="true">Jun 21<span>st</span>, 2010</time>
        
         | <a href="/blog/2010/06/21/post/#disqus_thread">Comments</a>
        
        
          | 

<span class="categories">
  
    <a class='category' href='/blog/categories/linux/'>Linux</a>
  
</span>


        
      </p>
    
  </header>


  <div class="entry-content"><p>泡论坛时发现的小问题，自己做了下，记录如下：</p>
<p>问题：如何查询服务器的外网IP并发送到指定邮箱？</p>
<p>解决办法：</p>
<p><pre class="brush: c-sharp">  1 #!/bin/sh
  2 
  3 
  4 ip=`curl -s 'http://checkip.dyndns.org' | sed 's/.*Current IP Address: /([0-    9/.]*/).*//1/g'`
  5 echo &quot;Sending ip $ip...&quot;
  6 
  7 to=&quot;yourmail@yourdomain.com&quot;
  8 subject=&quot;IP&quot;
  9 message=&quot;IP is $ip&quot;
 10 headers=&quot;From:server@serverdomain&quot;
 11 echo $message | mail -s $subject $to -- -f $headers
 12 echo &quot;Send OK!&quot;
</pre></p>
<p>&nbsp;</p>
<p>大概思路：</p>
<p>首先通过查询&nbsp; http://checkip.dyndns.org获取外网IP，得到一个HTML页，sed过滤道多余的HTML标签，获得准确的IP</p>
<p>然后通过sendmail发送邮件到指定邮箱</p>
<p>需要安装curl和sendmail</p>
<p>&nbsp;</p>
<p><pre class="brush: c-sharp:nogutter">sudo apt-get install curl
sudo apt-get install sendmail</pre>
</p>
<p>sendmail的配置比较复杂，不过可以使用默认的配置也能够发送邮件。</p></div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2010/04/24/post/">maven报错Requested org.apache.maven.archetypes:maven-archetype-quickstart:jar</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-04-24T00:00:00+08:00" pubdate data-updated="true">Apr 24<span>th</span>, 2010</time>
        
         | <a href="/blog/2010/04/24/post/#disqus_thread">Comments</a>
        
        
          | 

<span class="categories">
  
    <a class='category' href='/blog/categories/javaee/'>JavaEE</a>
  
</span>


        
      </p>
    
  </header>


  <div class="entry-content"><p>今天重新安装maven，打包创建项目，mvn archetype:create -DgroupId=org.sonatype.mavenbook.ch03 /</p>
<p>-DartifactId=simple /</p>
<p>-DpackageName=org.sonatype.mavenbook</p>
<p>结果报错Build Error：</p>
<p>Requested org.apache.maven.archetypes:maven-archetype-quickstart:jar</p>
<p>查了半天也不知道为什么，明明存在archetypes插件，却说找不到，最后决定把本地库全部都删除，然后重新创建项目，没问题了&hellip;&hellip;</p>
<p>神奇~</p></div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2010/04/07/post/">Error: No &#39;server&#39; JVM at &#39;C:/Program Files/Java/jre6/bin/server/jvm.dll&#39;</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-04-07T00:00:00+08:00" pubdate data-updated="true">Apr 7<span>th</span>, 2010</time>
        
         | <a href="/blog/2010/04/07/post/#disqus_thread">Comments</a>
        
        
          | 


        
      </p>
    
  </header>


  <div class="entry-content"><p>今天第一次使用JBoss，解压运行时出现了如下错误：</p>
<p>Error: no &#8216;server&#8217; JVM at &#8216;C:/Program Files/Java/jre6/bin/server/jvm.dll&#8217;</p>
<p>原因是JAVA_HOME设置的不对</p>
<p>临时解决办法是重新设置下JAVA_HOME，set JAVA_HOME=&#8221;C:/Program Files/Java/jdk1.6.0_19&#8221;就行了，最好是在环境变量里添加一个。</p>
<p>&nbsp;</p>
<p>&nbsp;</p></div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/8/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/blog/page/6/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section class="first odd">
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2012/09/24/compile-hadoop/">本地编译Hadoop小记</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/08/31/something-about-memcache-internal/">关于Memcache内存管理模型的理解</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/04/08/build-fluent-interface-with-method-chain-and-static-factory/">使用方法链和静态工厂构造流畅接口</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/02/21/java-lang-instrument/">java.lang.instrument笔记</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/02/14/jetty-classloader/">Jetty ClassLoader解析</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/02/13/unzip-file-from-win-to-mac/">解决Mac上解压Windows压缩包乱码问题</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/02/10/jvm-luncher-lifecycle/">JVM Luncher Lifecycle</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/02/10/compile-openjdk7-on-centos6/">CentOS6编译OpenJDK7</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/01/04/how-to-get-ip-and-send-to-gtalk-by-ruby/">如何用ruby获取本机IP&发送給Gtalk</a>
      </li>
    
      <li class="post">
        <a href="/blog/2011/12/31/my2011and2012/">我的2011&2012</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/jiang-bo">@jiang-bo</a> on GitHub
  
  <script type="text/javascript">
    $.domReady(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'jiang-bo',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>





  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2012 - jiang-bo -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a> and <a href="https://github.com/gluttony/object-octopress-theme">Object</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'jiangbo';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>











</body>
</html>
